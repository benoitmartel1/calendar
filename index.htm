<!DOCTYPE html>
<html>
  <head>
    <title>Google Calendar API Quickstart</title>
    <meta charset="utf-8" />
    <meta http-equiv="refresh" content="10" />
  </head>
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"
  ></script>

  <body>
    <p>Google Calendar API Quickstart</p>

    <!--Add buttons to initiate auth sequence and sign out-->
    <button id="authorize_button" style="display: none;">Authorize</button>
    <button id="signout_button" style="display: none;">Sign Out</button>

    <pre id="content" style="white-space: pre-wrap;"></pre>
    <script type="text/javascript" src="js/googleCalApi.js"></script>
    <script type="text/javascript">
      var clientLoaded = false;
      function handleClientLoad() {
        console.log("handle");
        console.log(typeof mainScriptLoad);
        console.log(typeof gapi);
        if (
          !clientLoaded &&
          typeof mainScriptLoad !== "undefined" &&
          typeof gapi !== "undefined"
        ) {
          clientLoaded = true;
          mainScriptLoad();
        }
      }
    </script>
    <script>
      handleClientLoad();
    </script>
    <script
      async
      defer
      src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()"
    ></script>
  </body>
</html>
